<!DOCTYPE html>
<html>
<head>
    <title>Multi-Agent AI API Documentation</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .endpoint { background: #f5f5f5; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .method { color: white; padding: 5px 10px; border-radius: 3px; font-weight: bold; }
        .post { background: #49cc90; }
        .get { background: #61affe; }
        code { background: #f0f0f0; padding: 2px 5px; border-radius: 3px; }
        .example { background: #fff; border: 1px solid #ddd; padding: 10px; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>ðŸ¤– Multi-Agent AI API Documentation</h1>
    <p>Agentic AI system with Router, Math, Programming, and General agents using Gemini API</p>
    
    <h2>Base URL</h2>
    <code>https://agents-intro.vercel.app</code>
    
    <h2>Endpoints</h2>
    
    <div class="endpoint">
        <h3><span class="method post">POST</span> /api/chat</h3>
        <p><strong>Description:</strong> Process message through multi-agent system</p>
        <p><strong>Request Body:</strong></p>
        <div class="example">
            <pre>{
  "message": "What is 25 * 17?"
}</pre>
        </div>
        <p><strong>Response:</strong></p>
        <div class="example">
            <pre>{
  "success": true,
  "data": {
    "input": "What is 25 * 17?",
    "agent": "math",
    "response": "I'll calculate that for you: 25 * 17 = 425",
    "timestamp": "2024-01-22T10:30:00.000Z"
  }
}</pre>
        </div>
    </div>
    
    <div class="endpoint">
        <h3><span class="method get">GET</span> /api/agents</h3>
        <p><strong>Description:</strong> Get available agents and their capabilities</p>
        <p><strong>Response:</strong></p>
        <div class="example">
            <pre>{
  "success": true,
  "data": [
    {
      "name": "router",
      "description": "Routes requests to appropriate specialized agents",
      "tools": []
    },
    {
      "name": "math",
      "description": "Handles mathematical calculations and problems",
      "tools": ["calculator"]
    },
    {
      "name": "programming",
      "description": "Handles software development and coding questions",
      "tools": ["text_formatter", "word_counter"]
    },
    {
      "name": "general",
      "description": "Handles general knowledge and Q&A",
      "tools": ["text_formatter", "word_counter"]
    }
  ]
}</pre>
        </div>
    </div>
    
    <div class="endpoint">
        <h3><span class="method get">GET</span> /api/health</h3>
        <p><strong>Description:</strong> Health check endpoint</p>
        <p><strong>Response:</strong></p>
        <div class="example">
            <pre>{
  "success": true,
  "message": "Multi-Agent AI API is running",
  "timestamp": "2024-01-22T10:30:00.000Z"
}</pre>
        </div>
    </div>
    
    <h2>Test Examples</h2>
    
    <h3>Math Query</h3>
    <div class="example">
        <strong>Request:</strong> <code>POST /api/chat</code><br>
        <strong>Body:</strong> <code>{"message": "Calculate 15 * 23"}</code><br>
        <strong>Expected Agent:</strong> math
    </div>
    
    <h3>Programming Query</h3>
    <div class="example">
        <strong>Request:</strong> <code>POST /api/chat</code><br>
        <strong>Body:</strong> <code>{"message": "Write a Python function"}</code><br>
        <strong>Expected Agent:</strong> programming
    </div>
    
    <h3>General Query</h3>
    <div class="example">
        <strong>Request:</strong> <code>POST /api/chat</code><br>
        <strong>Body:</strong> <code>{"message": "What is artificial intelligence?"}</code><br>
        <strong>Expected Agent:</strong> general
    </div>
    
    <h2>Live Test</h2>
    <div style="background: #e8f4fd; padding: 20px; border-radius: 5px;">
        <h4>Test the API:</h4>
        <input type="text" id="testMessage" placeholder="Enter your message" style="width: 300px; padding: 8px;">
        <button onclick="testAPI()" style="padding: 8px 15px; background: #007bff; color: white; border: none; border-radius: 3px;">Send</button>
        <div id="result" style="margin-top: 15px; padding: 10px; background: white; border-radius: 3px; min-height: 50px;"></div>
    </div>
    
    <script>
        async function testAPI() {
            const message = document.getElementById('testMessage').value;
            const resultDiv = document.getElementById('result');
            
            if (!message) {
                resultDiv.innerHTML = '<span style="color: red;">Please enter a message</span>';
                return;
            }
            
            resultDiv.innerHTML = 'Loading...';
            
            try {
                const response = await fetch('/api/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ message })
                });
                
                const data = await response.json();
                resultDiv.innerHTML = '<pre>' + JSON.stringify(data, null, 2) + '</pre>';
            } catch (error) {
                resultDiv.innerHTML = '<span style="color: red;">Error: ' + error.message + '</span>';
            }
        }
    </script>
</body>
</html>